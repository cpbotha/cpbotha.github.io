<!doctype html><html>
<head>
<title>Weekly Head Voices #224: Zen machine // voices in my head</title>
<meta charset=utf-8>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1">
<meta name=author content="Charl P. Botha">
<meta property="og:title" content="Weekly Head Voices #224: Zen machine">
<meta property="og:description" content="Dear friends,
You are reading the 224th edition of the Weekly Head Voices, covering the week from Monday May 17 to Sunday May 23 of the year 2021.
 Figure 1: Scene from a truly fabulous autumn Sunday lunch with the family. As I&rsquo;ve mentioned before, Autumn weekends down here can be rough.
  Fasted runs are not as scary as I thought At the time of drawing my anti-breakfast line in the sand in WHV #221, I did still make the exception of eating a banana or three before a morning run, with the reasoning that I would burn through much of the resultant glucose during the run, and that runs without all those sweet sweet carbs were probably quite difficult.">
<meta property="og:type" content="website">
<meta property="og:locale" content="en_US">
<meta property="og:url" content="https://cpbotha.net/2021/05/29/weekly-head-voices-224-zen-machine/">
<meta property="og:image" content="https://cpbotha.net/2021/05/29/weekly-head-voices-224-zen-machine/vergelegen_camphors_20210523_hu3b8384198c8dc993c78bb4d47145c527_2740074_800x0_resize_q75_box.jpg">
<link rel="shortcut icon" href=/favicon.ico>
<link href=https://cpbotha.net/webfonts/ptserif/main.css rel=stylesheet type=text/css>
<link href=https://cpbotha.net/webfonts/source-code-pro/main.css rel=stylesheet type=text/css>
<style>@import 'https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,400;0,700;1,700&display=swap'</style>
<link rel=stylesheet href=https://cpbotha.net/css/style.css>
<meta name=generator content="Hugo 0.88.1">
</head>
<body>
<div id=container>
<header id=header>
<div id=header-outer class=outer>
<div id=header-inner class=inner>
<a id=main-nav-toggle class=nav-icon href=javascript:;></a>
<a id=logo class=logo-text href=https://cpbotha.net/>voices in my head</a>
<nav id=main-nav>
<a class=main-nav-link href=/about/>About</a>
<a class=main-nav-link href=/links/>Links</a>
<a class=main-nav-link href=/archive/>Posts Archive</a>
<a class=main-nav-link href=/software/>Software</a>
<a class=main-nav-link href=/following-this-blog/>Following this blog</a>
</nav>
<nav id=sub-nav>
<div id=search-form-wrap>
</div>
</nav>
</div>
</div>
</header>
<section id=main class=outer>
<article class="article article-type-post" itemscope itemprop=blogPost>
<div class=article-inner>
<header class=article-header>
<h1 class=article-title itemprop=name>Weekly Head Voices #224: Zen machine</h1>
</header>
<div class=article-meta>
<a href=/2021/05/29/weekly-head-voices-224-zen-machine/ class=article-date>
<time datetime=2021-05-29T08:30:00.000+02:00 itemprop=datePublished>2021-05-29</time>
</a>
<div class=post-categories>
<div class=article-category>
<a class=article-category-link href=https://cpbotha.net//categories/weekly-head-voices>weekly head voices</a>
</div>
</div>
<div class=article-comment-link-wrap>
<a href=/2021/05/29/weekly-head-voices-224-zen-machine/#isso-thread class=article-comment-link>Comments</a>
</div>
</div>
<div class=article-entry itemprop=articleBody>
<p>Dear friends,</p>
<p>You are reading the 224th edition of the Weekly Head Voices, covering the week
from Monday May 17 to Sunday May 23 of the year 2021.</p>
<figure><a href=vergelegen_camphors_20210523.jpg>
<img sizes="(min-width: 35em) 1200px, 100vw" srcset="https://cpbotha.net/2021/05/29/weekly-head-voices-224-zen-machine/vergelegen_camphors_20210523_hu3b8384198c8dc993c78bb4d47145c527_2740074_480x0_resize_q75_box.jpg 480w,
https://cpbotha.net/2021/05/29/weekly-head-voices-224-zen-machine/vergelegen_camphors_20210523_hu3b8384198c8dc993c78bb4d47145c527_2740074_800x0_resize_q75_box.jpg 800w,
https://cpbotha.net/2021/05/29/weekly-head-voices-224-zen-machine/vergelegen_camphors_20210523_hu3b8384198c8dc993c78bb4d47145c527_2740074_1200x0_resize_q75_box.jpg 1200w,
https://cpbotha.net/2021/05/29/weekly-head-voices-224-zen-machine/vergelegen_camphors_20210523_hu3b8384198c8dc993c78bb4d47145c527_2740074_1500x0_resize_q75_box.jpg 1500w," src=https://cpbotha.net/2021/05/29/weekly-head-voices-224-zen-machine/vergelegen_camphors_20210523_hu3b8384198c8dc993c78bb4d47145c527_2740074_800x0_resize_q75_box.jpg alt="Figure 1: Scene from a truly fabulous autumn Sunday lunch with the family. As I&amp;rsquo;ve mentioned before, Autumn weekends down here can be rough."> </a><figcaption>
<p>Figure 1: Scene from a truly fabulous autumn Sunday lunch with the family. As I&rsquo;ve mentioned before, Autumn weekends down here can be rough.</p>
</figcaption>
</figure>
<h2 id=fasted-runs-are-not-as-scary-as-i-thought>Fasted runs are not as scary as I thought</h2>
<p>At the time of drawing my <a href=/2021/04/20/weekly-head-voices-221-anti-breakfast-club/#skip-you-some-breakfast-for-great-good>anti-breakfast line in the sand in WHV #221</a>, I did
still make the exception of eating a banana or three before a morning run, with
the reasoning that I would burn through much of the resultant glucose during
the run, and that runs without all those sweet sweet carbs were probably
quite difficult.</p>
<p>However, shortly after publishing that post, I decided that I would like to put
even more money where my mouth is, and started doing morning runs in the fasted
state.</p>
<p>I am happy to report that not only are fasted runs not scary at all, they are
actually quite enjoyable.</p>
<p>There&rsquo;s no recently ingested food jostling around in your insides, which means
one less distraction from focusing on the running.</p>
<p>Perhaps most importantly, perceived energy did not seem to be a problem at all,
at least for the runs of up to an hour and a half that I have tried, some of
them over lunch time.</p>
<p>(It&rsquo;s possible that glycogen stores from the previous day were still
sufficient. I&rsquo;m hoping that at least some of those highly energy-dense fat
cells were involved. <a href=https://www.dietdoctor.com/fasting-and-exercise>This blog post about fasting and exercise</a> is a good read
and clearly explains the relevant concepts.)</p>
<p>I do need to caveat all of this with the remark that all of these runs have
been in the relative cool of autumn. I don&rsquo;t know (yet) how a longer, much more
sweaty run will go in the fasted state.</p>
<p>Stay tuned for the next few months to find out!</p>
<p>NB: Please see <a href=./#isso-2776>Pieter&rsquo;s comments below</a>. The text above is me talking about how
I experience my training (non-race) runs in the fasted state. If you decide to
exert yourself in the fasted state, please be careful, read what you can, and
measure carefully how your body responds to smaller doses initially.</p>
<h2 id=yarn-pnp-will-rescue-you-from-node-modules-hell>Yarn PnP will rescue you from <code>node_modules</code> hell</h2>
<p><em>NERD WARNING: <code>if not(nerd) skip_section();</code></em></p>
<p>The other day as I opened a laptop after having worked on the new zen machine
(see below) setting up some of our frontend development environments, its tiny
little metal frame almost creaked as dropbox started syncing, on all cores, the
many thousands of files from one of the cursed <code>node_modules</code> directories that
I had forgotten to exclude from syncing on the new machine.</p>
<p>My thoughts at that moment: &ldquo;YARGH! THAT DOES IT! we&rsquo;re going to try that shiny
new thing that we have been avoiding because the current solution was OK until
it absolutely wasn&rsquo;t.&rdquo;</p>
<p>That new thing is <a href=https://yarnpkg.com/features/pnp>Yarn 2&rsquo;s PnP</a>.</p>
<p>(That page describes the various other issues with <code>node_modules</code>, besides your
laptop creaking.)</p>
<p>Instead of downloading a thousand dependencies and then unpacking those
thousand dependencies to easily one hundred thousand tiny little files, right
in your source directory (and that&rsquo;s <code>node_modules</code> folks!), PnP creates a
single <code>.pnp.js</code> file along with a local cache of the one thousand packages
which it keeps neatly zipped up.</p>
<p>In terms of numbers of tiny files, this is an improvement of one to two orders
of magnitude, which is significant. With <code>enableGlobalCache</code>, you can even move
these out of your source dir, keeping just the <code>.pnp.js</code>.</p>
<p>In addition to this, because of this new structure, the PnP can be much more
strict in resolving dependencies, resulting in builds that are <strong>actually</strong>
reproducible.</p>
<p>I followed <a href=https://yarnpkg.com/getting-started/migration>the step-by-step instructions for migrating the project in question
to Yarn PnP</a>, and before you could say dependency-resolution 58 times, the
project in question was cured of the hundred thousand file problem, and IDEs
like Visual Studio Code or any of the JetBrains family were perfectly capable
of navigating through the new dependency structure, right down to lines of code
inside the package zips.</p>
<p>Based on this experience, and the momentum and support that PnP has, my advice
is to convert at your soonest convenience.</p>
<p>The feeling of relief and increased build speed are worth it!</p>
<h2 id=new-machine-zen>New machine zen</h2>
<p>The tradition around here is to write something about any new computers in the
family.</p>
<p>However, as this new one was not entirely planned, I almost wanted to keep it a
secret.</p>
<p>Weird instinct that.</p>
<p>As a compromise, I&rsquo;ll hide it in this section down here.</p>
<p>So, as I said, I was not yet planning to get a new workstation to complement
the <a href=https://cpbotha.net/2021/03/21/new-emacs-capable-hardware-m1-macbook-air/>the new M1-powered mobile device</a>, because <a href=/2019/04/27/new-laptop-2019/>the ThinkPad</a> is still a very
capable machine.</p>
<p>However, <a href=https://en.wikipedia.org/wiki/Zen%5F3>the new AMD Zen3 architecture</a> was proving far too hard for me to
resist, and so I started <em>fantasy</em> shopping for my next Zen3-powered workstation.</p>
<p>This continued for quite a while in the evenings, with me swapping in and out
different components in my local retailer&rsquo;s online shop, reading reviews, and
generally enjoying the process of putting together my <em>imaginary</em> workstation,
with real parts, from a real store, and with the fairly specific rule (for some
or other reason) that I could only use parts that were in stock at the retailer
in question&mldr;</p>
<p>What could possibly go wrong, right?!</p>
<p>Well, what could go wrong, is that I&rsquo;m typing these words on a new Zen3
workstation with 12 cores (24 threads, I think you can guess the chip now?), a
really fast PCIe 4.0 SSD (around 7Gbytes/s read and write) and the &ldquo;old&rdquo;
RTX2070 GPU salvaged from the upgraded <a href=/2015/02/15/meepz97-i-haz-a-new-computar-machine/>meepz97, the desktop that joined this
club back in 2015</a>.</p>
<p>(Back then the Samsung 850 Pro was indeed &ldquo;STUPID FAST&rdquo; at about 500MB/s. The
new drive, Sabrent&rsquo;s Rocket 4 Plus, is 7 times that speed, and 4 times as
large.)</p>
<p>Just a few years back, this sort of raw computing power could only be found in
well-guarded and relatively secret government facilities.</p>
<p>Now all of that is standing on my desk, running Emacs, a 40 year old text
editor.</p>
<p>Although getting my old friend Emacs running smoothly on <a href=https://github.com/microsoft/wslg>the bleeding edge WSLg</a>
has been causing a great deal of teeth gnashing, and although clearly many
other things have changed since then, I would like to conclude this post in the
same way as <a href=/2015/02/15/meepz97-i-haz-a-new-computar-machine/#are-you-happy-now>the one for meepz97</a>:</p>
<h2 id=are-you-happy-now>Are you happy now?</h2>
<p>Yes.</p>
</div>
<div class=article-toc>
<h3>Contents</h3>
<nav id=TableOfContents>
<ul>
<li>
<ul>
<li><a href=#fasted-runs-are-not-as-scary-as-i-thought>Fasted runs are not as scary as I thought</a></li>
<li><a href=#yarn-pnp-will-rescue-you-from-node-modules-hell>Yarn PnP will rescue you from <code>node_modules</code> hell</a></li>
<li><a href=#new-machine-zen>New machine zen</a></li>
<li><a href=#are-you-happy-now>Are you happy now?</a></li>
</ul>
</li>
</ul>
</nav>
</div>
<footer class=article-footer>
<ul class=article-tag-list>
<li class=article-tag-list-item>
<a class=article-tag-list-link href=https://cpbotha.net//tags/autumn>autumn
</a>
</li>
<li class=article-tag-list-item>
<a class=article-tag-list-link href=https://cpbotha.net//tags/new-computer>new computer
</a>
</li>
<li class=article-tag-list-item>
<a class=article-tag-list-link href=https://cpbotha.net//tags/running>running
</a>
</li>
<li class=article-tag-list-item>
<a class=article-tag-list-link href=https://cpbotha.net//tags/yarn>yarn
</a>
</li>
</ul>
</footer>
</div>
<nav id=article-nav>
<a href=/2021/06/05/book-notes-seven-and-a-half-lessons-about-the-brain/ id=article-nav-newer class=article-nav-link-wrap>
<div class=article-nav-title><span>&lt;</span>&nbsp;
Notes on the book "Seven and a Half Lessons About the Brain" by Lisa Feldman Barrett
</div>
</a>
<a href=/2021/05/21/weekly-head-voices-223-the-potjie-never-left/ id=article-nav-older class=article-nav-link-wrap>
<div class=article-nav-title>Weekly Head Voices #223: The potjie never left&nbsp;<span>></span></div>
</a>
</nav>
<div class=article-footer>
Related posts:
<a href=/2021/05/21/weekly-head-voices-223-the-potjie-never-left/>🌤 Weekly Head Voices #223: The potjie never left</a>
<a href=/2021/03/21/new-emacs-capable-hardware-m1-macbook-air/>🌤 New Emacs-capable hardware: M1 MacBook Air</a>
<a href=/2021/02/19/weekly-head-voices-216-sup/>🌤 Weekly Head Voices #216: Sup?</a>
</div>
</article>
<style>.isso-comment .avatar img{max-width:100%}.isso-comment>div.text-wrapper>div.text p{margin-top:1em}</style>
<script data-isso=/isso/cpbotha.net/ data-isso-reply-notifications=true data-isso-avatar=false data-isso-gravatar=true data-isso-max-comments-nested=inf data-isso-max-comments-top=inf data-isso-require-email=true data-isso-vote=false src=/isso/cpbotha.net/js/embed.min.js></script>
<section data-title="Weekly Head Voices #224: Zen machine" id=isso-thread></section>
</section>
<footer id=footer>
<div id=search-form-wrap>
<form class=search-form method=get action=https://duckduckgo.com/>
<input type=search name=q class=search-text placeholder title size=20 maxlength=128>
<input type=hidden name=sites value=cpbotha.net>
<input type=submit value="Search site with DDG" class=hidden>
</form>
</div>
<div class=outer>
<div id=footer-info class=inner>
&copy; 2021 Charl P. Botha
<br>
Powered by <a href=https://gohugo.io target=_blank>Hugo</a> with theme <a href=https://github.com/carsonip/hugo-theme-minos target=_blank>Minos</a>
</div>
</div>
<link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/styles/solarized-light.min.css integrity=sha384-bFKDPkG3geCujYJIbPornilfOgmYQoPS45Oh/8daqqo1SUwNY06OeHorpgnNvx82 crossorigin=anonymous>
<script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js integrity="sha256-KbfTjB0WZ8vvXngdpJGY3Yp3xKk+tttbqClO11anCIU=" crossorigin=anonymous></script>
<script>hljs.initHighlightingOnLoad()</script>
<script>document.getElementById('main-nav-toggle').addEventListener('click',function(){var a=document.getElementById('header');a.classList.contains('mobile-on')?a.classList.remove('mobile-on'):a.classList.add('mobile-on')})</script>
</footer>
</div>
</body>
</html>