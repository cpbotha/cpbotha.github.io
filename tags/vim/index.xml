<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/"><channel><title>Vim on voices in my head</title><link>https://cpbotha.net/tags/vim/</link><description>Recent content in Vim on voices in my head</description><generator>Hugo</generator><language>en-us</language><lastBuildDate>Sun, 31 Dec 2023 17:29:04 +0200</lastBuildDate><atom:link href="https://cpbotha.net/tags/vim/index.xml" rel="self" type="application/rss+xml"/><item><title>Daily Head Voices on Friday 2023-12-29</title><link>https://cpbotha.net/2023/12/31/daily-head-voices-on-friday-2023-12-29/</link><pubDate>Sun, 31 Dec 2023 12:18:00 +0200</pubDate><guid>https://cpbotha.net/2023/12/31/daily-head-voices-on-friday-2023-12-29/</guid><description> First time back on the Clarence Drive coastal route after the floods. As beautiful as ever. Derek Sivers&amp;rsquo;s walk and talk: 100km through Northern Thailand over 7 days with interesting folks. See https://sive.rs/wt According to my notes, it was 2023-09-23 when I had started giving evil-mode a solid bash again. Last time was&amp;hellip; &amp;lt;checks notes&amp;gt;&amp;hellip; 2017-09-18. Strange that it was also in September! (My previous vim-proper era probably around 2007, but I&amp;rsquo;m guessing). Anyways, it now feels like it was the right choice to try again now. My emacs agility is almost back to what it was before the switch, and with some of the vim interactions now trained into muscle-memory, there are many more places where that&amp;rsquo;s turning out to be useful, which was a large part of the motivation for this experiment. My evil-mode config As per special request by Keegan below, here is my mostly by-the-book evil-mode config, part of my vanilla-Emacs ball-of-config:</description><content:encoded><![CDATA[ <ul>
<li>First time back on the <a href="https://www.mountainpassessouthafrica.co.za/find-a-pass/western-cape/item/95-clarence-drive,-gordons-bay.html">Clarence Drive coastal route</a> after the floods. As beautiful as ever.</li>
<li>Derek Sivers&rsquo;s walk and talk: 100km through Northern Thailand over 7 days with interesting folks. See <a href="https://sive.rs/wt">https://sive.rs/wt</a></li>
<li>According to my notes, it was 2023-09-23 when I had started giving <a href="https://github.com/emacs-evil/evil">evil-mode</a> a solid bash again. Last time was&hellip; &lt;checks notes&gt;&hellip; 2017-09-18. Strange that it was also in September! (My previous vim-proper era probably around 2007, but I&rsquo;m guessing). Anyways, it now feels like it was the right choice to try again now. My emacs agility is almost back to what it was before the switch, and with some of the vim interactions now trained into muscle-memory, there are many more places where that&rsquo;s turning out to be useful, which was a large part of the motivation for this experiment.</li>
</ul>
<h2 id="my-evil-mode-config">My evil-mode config</h2>
<p>As per special request by Keegan below, here is my mostly by-the-book <code>evil-mode</code> config, part of my vanilla-Emacs <em>ball-of-config</em>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f7f7f7;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span><span style="color:#1f2328">(</span><span style="color:#6639ba">use-package</span> <span style="color:#953800">evil</span>
</span></span><span style="display:flex;"><span>  <span style="color:#6639ba">:ensure</span> <span style="color:#0550ae">t</span>
</span></span><span style="display:flex;"><span>  <span style="color:#57606a">;;:disabled t</span>
</span></span><span style="display:flex;"><span>  <span style="color:#6639ba">:init</span>
</span></span><span style="display:flex;"><span>  <span style="color:#57606a">;; evil-collection wants this set to nil</span>
</span></span><span style="display:flex;"><span>  <span style="color:#1f2328">(</span><span style="color:#6639ba">setq</span> <span style="color:#953800">evil-want-keybinding</span> <span style="color:#0550ae">nil</span><span style="color:#1f2328">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#57606a">;; on 2023-10-22 trying out visual-line-mode in orgmode</span>
</span></span><span style="display:flex;"><span>  <span style="color:#57606a">;; this setting means j/k e.g. will navigate displayed lines not true lines</span>
</span></span><span style="display:flex;"><span>  <span style="color:#1f2328">(</span><span style="color:#6639ba">setq</span> <span style="color:#953800">evil-respect-visual-line-mode</span> <span style="color:#0550ae">t</span><span style="color:#1f2328">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#6639ba">:config</span>
</span></span><span style="display:flex;"><span>  <span style="color:#57606a">;; use &#39;visual instead of &#39;relative to ignore collapsed / hidden org-mode drawers</span>
</span></span><span style="display:flex;"><span>  <span style="color:#57606a">;; on 2023-11-20: However, I would like to count visual wrapped lines as a single line, but I need &#39;visual</span>
</span></span><span style="display:flex;"><span>  <span style="color:#57606a">;; here else it incorrectly handles collapsed drawers, just like some of the folks below:</span>
</span></span><span style="display:flex;"><span>  <span style="color:#57606a">;; https://www.reddit.com/r/emacs/comments/nwwlx0/displaying_relative_line_numbers_over_folds_in/</span>
</span></span><span style="display:flex;"><span>  <span style="color:#57606a">;; and so I&#39;m forced to evil-respect-visual-line-mode</span>
</span></span><span style="display:flex;"><span>  <span style="color:#1f2328">(</span><span style="color:#6639ba">setq</span> <span style="color:#953800">display-line-numbers-type</span> <span style="color:#032f62">&#39;visual</span><span style="color:#1f2328">)</span> <span style="color:#57606a">;; &#39;relative, &#39;visual, &#39;t, nil</span>
</span></span><span style="display:flex;"><span>  <span style="color:#1f2328">(</span><span style="color:#6639ba">setq</span> <span style="color:#953800">display-line-numbers-grow-only</span> <span style="color:#0550ae">t</span><span style="color:#1f2328">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#1f2328">(</span><span style="color:#6639ba">defun</span> <span style="color:#953800">display-line-numbers--turn-on</span> <span style="color:#1f2328">()</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0a3069">&#34;Turn on line numbers except for certain major modes. &#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#1f2328">(</span><span style="color:#6639ba">unless</span> <span style="color:#1f2328">(</span><span style="color:#6639ba">or</span> <span style="color:#1f2328">(</span><span style="color:#6639ba">minibufferp</span><span style="color:#1f2328">)</span>
</span></span><span style="display:flex;"><span>                <span style="color:#1f2328">(</span><span style="color:#6639ba">member</span> <span style="color:#953800">major-mode</span> <span style="color:#0550ae">&#39;</span><span style="color:#1f2328">(</span><span style="color:#953800">pdf-view-mode</span><span style="color:#1f2328">)))</span>
</span></span><span style="display:flex;"><span>      <span style="color:#1f2328">(</span><span style="color:#953800">display-line-numbers-mode</span><span style="color:#1f2328">)))</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#1f2328">(</span><span style="color:#953800">global-display-line-numbers-mode</span><span style="color:#1f2328">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#1f2328">(</span><span style="color:#953800">global-display-line-numbers-mode</span> <span style="color:#0550ae">1</span><span style="color:#1f2328">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#1f2328">(</span><span style="color:#953800">evil-set-undo-system</span> <span style="color:#032f62">&#39;undo-tree</span><span style="color:#1f2328">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#57606a">;; set leader key in normal state</span>
</span></span><span style="display:flex;"><span>  <span style="color:#1f2328">(</span><span style="color:#953800">evil-set-leader</span> <span style="color:#032f62">&#39;normal</span> <span style="color:#0a3069">&#34;,&#34;</span><span style="color:#1f2328">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#57606a">;; what&#39;s default in the vim world? looks like leader-leader these days</span>
</span></span><span style="display:flex;"><span>  <span style="color:#1f2328">(</span><span style="color:#953800">evil-define-key</span> <span style="color:#032f62">&#39;normal</span> <span style="color:#032f62">&#39;global</span> <span style="color:#1f2328">(</span><span style="color:#953800">kbd</span> <span style="color:#0a3069">&#34;&lt;leader&gt;l&#34;</span><span style="color:#1f2328">)</span> <span style="color:#032f62">&#39;evil-avy-goto-line</span><span style="color:#1f2328">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#1f2328">(</span><span style="color:#953800">evil-mode</span> <span style="color:#0550ae">1</span><span style="color:#1f2328">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#1f2328">(</span><span style="color:#6639ba">use-package</span> <span style="color:#953800">evil-org</span>
</span></span><span style="display:flex;"><span>    <span style="color:#6639ba">:ensure</span> <span style="color:#0550ae">t</span>
</span></span><span style="display:flex;"><span>    <span style="color:#6639ba">:after</span> <span style="color:#953800">org</span>
</span></span><span style="display:flex;"><span>    <span style="color:#6639ba">:hook</span> <span style="color:#1f2328">(</span><span style="color:#953800">org-mode</span> <span style="color:#0550ae">.</span> <span style="color:#1f2328">(</span><span style="color:#6639ba">lambda</span> <span style="color:#1f2328">()</span> <span style="color:#1f2328">(</span><span style="color:#953800">evil-org-mode</span><span style="color:#1f2328">)))</span>
</span></span><span style="display:flex;"><span>    <span style="color:#6639ba">:config</span>
</span></span><span style="display:flex;"><span>    <span style="color:#1f2328">(</span><span style="color:#953800">evil-org-set-key-theme</span> <span style="color:#0550ae">&#39;</span><span style="color:#1f2328">(</span><span style="color:#953800">navigation</span> <span style="color:#6639ba">insert</span> <span style="color:#953800">textobjects</span> <span style="color:#953800">additional</span> <span style="color:#953800">calendar</span><span style="color:#1f2328">))</span>
</span></span><span style="display:flex;"><span>    <span style="color:#1f2328">(</span><span style="color:#6639ba">require</span> <span style="color:#032f62">&#39;evil-org-agenda</span><span style="color:#1f2328">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#1f2328">(</span><span style="color:#953800">evil-org-agenda-set-keys</span><span style="color:#1f2328">))</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#57606a">;; ys&lt;textobj&gt;&lt;surround-delim&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#57606a">;; ysiw~ = surround inner-word with ~</span>
</span></span><span style="display:flex;"><span>  <span style="color:#57606a">;; in visual state, do: S&lt;surround-delim&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#57606a">;; https://github.com/emacs-evil/evil-surround#examples</span>
</span></span><span style="display:flex;"><span>  <span style="color:#1f2328">(</span><span style="color:#6639ba">use-package</span> <span style="color:#953800">evil-surround</span>
</span></span><span style="display:flex;"><span>    <span style="color:#6639ba">:ensure</span> <span style="color:#0550ae">t</span>
</span></span><span style="display:flex;"><span>    <span style="color:#6639ba">:config</span>
</span></span><span style="display:flex;"><span>    <span style="color:#1f2328">(</span><span style="color:#953800">global-evil-surround-mode</span> <span style="color:#0550ae">1</span><span style="color:#1f2328">))</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#57606a">;; not yet working for me -- I need more practise with the &#34;normal&#34; commands</span>
</span></span><span style="display:flex;"><span>  <span style="color:#57606a">;; (use-package evil-easymotion</span>
</span></span><span style="display:flex;"><span>  <span style="color:#57606a">;;   :ensure t</span>
</span></span><span style="display:flex;"><span>  <span style="color:#57606a">;;   :config</span>
</span></span><span style="display:flex;"><span>  <span style="color:#57606a">;;   (evilem-default-keybindings &#34;SPC&#34;))</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#1f2328">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">(</span><span style="color:#6639ba">use-package</span> <span style="color:#953800">evil-collection</span>
</span></span><span style="display:flex;"><span>  <span style="color:#6639ba">:ensure</span> <span style="color:#0550ae">t</span>
</span></span><span style="display:flex;"><span>  <span style="color:#6639ba">:after</span> <span style="color:#953800">evil</span>
</span></span><span style="display:flex;"><span>  <span style="color:#6639ba">:config</span>
</span></span><span style="display:flex;"><span>  <span style="color:#57606a">;; this should take care of corfu completion popups, as it&#39;s part of evil-collection</span>
</span></span><span style="display:flex;"><span>  <span style="color:#57606a">;; however, I still saw wonkiness in completion of [[title]] links in org-roam</span>
</span></span><span style="display:flex;"><span>  <span style="color:#57606a">;; https://github.com/emacs-evil/evil-collection/commit/ceac1a9681cb47de35aa37d63532b1b92cd58b72</span>
</span></span><span style="display:flex;"><span>  <span style="color:#1f2328">(</span><span style="color:#953800">evil-collection-init</span><span style="color:#1f2328">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#1f2328">(</span><span style="color:#6639ba">with-eval-after-load</span> <span style="color:#032f62">&#39;dired-quick-sort</span>
</span></span><span style="display:flex;"><span>    <span style="color:#1f2328">(</span><span style="color:#953800">evil-collection-define-key</span> <span style="color:#032f62">&#39;normal</span> <span style="color:#032f62">&#39;dired-mode-map</span> <span style="color:#0a3069">&#34;S&#34;</span> <span style="color:#032f62">&#39;hydra-dired-quick-sort/body</span><span style="color:#1f2328">)))</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#57606a">;; For the motions g; g, and for the last-change-register &#34;.&#34;. goto-chg supplies goto-last-change</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">(</span><span style="color:#6639ba">use-package</span> <span style="color:#953800">goto-chg</span>
</span></span><span style="display:flex;"><span>  <span style="color:#6639ba">:vc</span> <span style="color:#1f2328">(</span><span style="color:#6639ba">:fetcher</span> <span style="color:#0a3069">&#34;https://github.com/emacs-evil/goto-chg&#34;</span><span style="color:#1f2328">))</span>
</span></span></code></pre></div> ]]></content:encoded></item><item><title>Google Drive: Not reliable yet, but potential.</title><link>https://cpbotha.net/2012/04/27/google-drive-not-reliable-yet-but-potential/</link><pubDate>Fri, 27 Apr 2012 20:47:56 +0000</pubDate><guid>https://cpbotha.net/2012/04/27/google-drive-not-reliable-yet-but-potential/</guid><description>I’ve been a Dropbox Pro (50G) user for more than two years now, and in this time it has never let me down, not even by a little bit. Still, when Google announced its new Google Drive syncing service, I had to take it for a spin.
For those of you with short attention spans, my conclusion is: Google Drive has great promise due to its price-point, Google’s great infrastructure and the integration with Google Docs, but you shouldn’t yet trust this service with your critical files.</description><content:encoded><![CDATA[ <p>I’ve been a Dropbox Pro (50G) user for <a href="/2010/03/29/weekly-head-voices-19-the-time-travellers-bbq/" title="me gets a dropbox pro account">more than two years now</a>, and in this time it has never let me down, not even by a little bit. Still, when Google <a href="http://googleblog.blogspot.com/2012/04/introducing-google-drive-yes-really.html" title="google drive announcement">announced its new Google Drive syncing service</a>, I had to take it for a spin.</p>
<p>For those of you with short attention spans, my conclusion is: <em>Google Drive has great promise due to its price-point, Google’s great infrastructure and the integration with Google Docs, but you shouldn’t yet trust this service with your critical files.</em></p>
<p>To summarise: Google Drive is Google’s answer to Dropbox (and 50 other inferior syncing services). You install a small app on your Windows or Mac (no Linux yet, although <a href="http://www.pcworld.com/businesscenter/article/254488/google_drive_for_linux_is_on_the_way.html" title="Google Drive for Linux should come">it has been promised</a>), and then it’ll keep a folder of your choosing in sync with Google Drive in the cloud. You can access your files via the website <a href="http://drive.google.com/" title="google drive website">drive.google.com</a> (google docs, but slightly updated), any computer with the Google Drive software, or via the Google Drive mobile apps.  You can also share files through authorizing the relevant google accounts, or via URL. Google Drive has a number of built-in viewers, meaning that users will not have to install PowerPoint to view your PowerPoint presentation for example.</p>
<p>Things start to deviate from Dropbox when we look at the storage plans and prices the big G is offering:</p>
<p><a data-rel="lightbox-image-0" data-rl_caption="" data-rl_title="" href="http://cpbotha.net/wp-content/uploads/2012/04/gdrive_storage_plans.jpg" title=""><img alt="" class="aligncenter size-medium wp-image-1654" data-attachment-id="1654" data-comments-opened="1" data-image-description="" data-image-meta='{"aperture":"0","credit":"","camera":"","caption":"","created_timestamp":"0","copyright":"","focal_length":"0","iso":"0","shutter_speed":"0","title":""}' data-image-title="gdrive_storage_plans" data-large-file="https://cpbotha.net/wp-content/uploads/2012/04/gdrive_storage_plans.jpg" data-medium-file="https://cpbotha.net/wp-content/uploads/2012/04/gdrive_storage_plans-300x86.jpg" data-orig-file="https://cpbotha.net/wp-content/uploads/2012/04/gdrive_storage_plans.jpg" data-orig-size="744,215" data-permalink="https://cpbotha.net/2012/04/27/google-drive-not-reliable-yet-but-potential/gdrive_storage_plans/" height="86" sizes="(max-width: 300px) 85vw, 300px" src="http://cpbotha.net/wp-content/uploads/2012/04/gdrive_storage_plans-300x86.jpg" srcset="https://cpbotha.net/wp-content/uploads/2012/04/gdrive_storage_plans-300x86.jpg 300w, https://cpbotha.net/wp-content/uploads/2012/04/gdrive_storage_plans.jpg 744w" title="gdrive_storage_plans" width="300"/></a></p>
<p>You get 5G for free. For a measly $2.49 per month, you get 25G of storage, and 30G of GMail storage as a bonus, and for $5 per month you get 100G! Compare this with the $10 / month Dropbox wants for 50G. This, together with the fact that you <em>could</em> go up to 16 TERABYTES if you would want to, makes you at least think for a bit.</p>
<p>I installed the client on this Windows laptop. For you screenshot-freaks, here’s the context menu for the systray icon:










<figure><a href="/wp-content/uploads/2012/04/gdrive_systray_menu.jpg">
    <img
        
            
            src="/wp-content/uploads/2012/04/gdrive_systray_menu.jpg"
        
            alt="Google Drive systray context menu."/> </a><figcaption>
            <p>Google Drive systray context menu.</p>
        </figcaption>
</figure>
</p>
<p>Note that because I pay a measly $5 / year for 25G of extra GMail space, I’ve been <em>grandfathered</em> into 25G of Google Drive space. Heh, I also only just learnt the term grandfathered. It means I could get this because of my previous price plan that doesn’t exist anymore.</p>
<p>Here’s the preferences dialog, nothing special really, unless you have a screenshot fetish:










<figure><a href="/wp-content/uploads/2012/04/gdrive_prefs.jpg">
    <img
        
            
            src="/wp-content/uploads/2012/04/gdrive_prefs.jpg"
        
            alt="Google Drive preferences dialog."/> </a><figcaption>
            <p>Google Drive preferences dialog.</p>
        </figcaption>
</figure>
</p>
<p>For me also an important functionality: You can easily recover deleted files. If you delete a file on your client computer, it gets synced to the trash folder on the google drive website, from where undeletion is an easy click on the “Recover” button away. Under the File | Manage Revisions you can retrieve file versions up to 30 days ago, or 100 revisions, whichever comes earlier.</p>
<p>Another important difference is that Google Drive, as far as I could find out, does not do something similar to Dropbox’s LAN sync, a pretty cool function that will grab files from the computers on the local LAN if they’re available, instead of from the cloud.</p>
<p>So I set out to do some tests. Before I could really get started, I ran into the first problems. I created a text file in my Google Drive folder with Vim (yes, I use Vim. deal.), as I wanted to test the file revisions. As you know, when Vim saves a file, it first writes to a temporary file, then deletes the original file and finally renames the new file to the original file. This confused Google Drive to no end. For each save, Google Drive created a new file with exactly the same name in the web interface, whilst on the client side, there was only one file.</p>
<p>I then proceeded to delete the text file on the client, leaving me with the following situation, even after Google Drive was done syncing:










<figure><a href="/wp-content/uploads/2012/04/gdrive_sync_huh.jpg">
    <img
        
            
            src="/wp-content/uploads/2012/04/gdrive_sync_huh.jpg"
        
            alt="Huh?! You call this syncing?"/> </a><figcaption>
            <p>Huh?! You call this syncing?</p>
        </figcaption>
</figure>
</p>
<p>As you can see, on the server is my text file, on the client nothing. I expect of a syncing solution to actually, uhm, synchronise my files. I did notice a sync error message in the systray context menu. After clicking, I got this dialog:










<figure><a href="/wp-content/uploads/2012/04/gdrive_sync_error.jpg">
    <img
        
            
            src="/wp-content/uploads/2012/04/gdrive_sync_error.jpg"
        
            alt="Informative error message. NOT."/> </a><figcaption>
            <p>Informative error message. NOT.</p>
        </figcaption>
</figure>
</p>
<p>Yes, thank you Google Drive, you have an unknown issue. That’s just great.</p>
<p>So, in spite of the really attractive offering, this type of wonkiness (multiple files due to stupid create-new-rename saves, sync errors soon after), even after a few minutes of playing around, does not instil confidence or trust. If there’s one thing a good sync service should do, it’s instil confidence and trust. Dropbox has never failed me, and I’ve thrown some pretty strange things at it. Until Google Drive is able to do the same, I’ll continue coughing up 10 bucks a month for Dropbox.</p>
 ]]></content:encoded></item></channel></rss>