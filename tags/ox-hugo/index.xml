<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>ox-hugo on voices in my head</title><link>https://cpbotha.net/tags/ox-hugo/</link><description>Recent content in ox-hugo on voices in my head</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><managingEditor>cpbotha@cpbotha.net (Charl P. Botha)</managingEditor><webMaster>cpbotha@cpbotha.net (Charl P. Botha)</webMaster><lastBuildDate>Sun, 03 May 2020 15:33:00 +0200</lastBuildDate><atom:link href="https://cpbotha.net/tags/ox-hugo/index.xml" rel="self" type="application/rss+xml"/><item><title>Weekly Head Voices #193: COVID-19 part 3.</title><link>https://cpbotha.net/2020/05/03/weekly-head-voices-193-covid-19-part-3/</link><pubDate>Sun, 03 May 2020 15:33:00 +0200</pubDate><author>cpbotha@cpbotha.net (Charl P. Botha)</author><guid>https://cpbotha.net/2020/05/03/weekly-head-voices-193-covid-19-part-3/</guid><description> Another Stilbaai beach scene, this time in panaroma format, taken a day before the SA lockdown.
The Weekly Head Voices #193 looks back at the three weeks from Monday April 12 to Sunday May 2.
This post has a strong nerd flavour. If that is not your inclination, please use the table of contents (to your right) to navigate to the bits that you do find interesting.
If you&amp;rsquo;re in a rush, and can only select one section, I would recommend the one on Niklas Luhmann.</description><content:encoded><![CDATA[ 







<figure><a href="stilbaai-preekstoel-panorama.jpg">
    <img
        
            sizes="(min-width: 35em) 1200px, 100vw"
              
            srcset='
            
                   https://cpbotha.net/2020/05/03/weekly-head-voices-193-covid-19-part-3/stilbaai-preekstoel-panorama_hu73502fd35e27f9d31902eaf7617a9c24_1947631_480x0_resize_q75_box.jpg 480w,
            
                   https://cpbotha.net/2020/05/03/weekly-head-voices-193-covid-19-part-3/stilbaai-preekstoel-panorama_hu73502fd35e27f9d31902eaf7617a9c24_1947631_800x0_resize_q75_box.jpg 800w,
            
                   https://cpbotha.net/2020/05/03/weekly-head-voices-193-covid-19-part-3/stilbaai-preekstoel-panorama_hu73502fd35e27f9d31902eaf7617a9c24_1947631_1200x0_resize_q75_box.jpg 1200w,
            
                   https://cpbotha.net/2020/05/03/weekly-head-voices-193-covid-19-part-3/stilbaai-preekstoel-panorama_hu73502fd35e27f9d31902eaf7617a9c24_1947631_1500x0_resize_q75_box.jpg 1500w,
            '

            
            
            src="https://cpbotha.net/2020/05/03/weekly-head-voices-193-covid-19-part-3/stilbaai-preekstoel-panorama_hu73502fd35e27f9d31902eaf7617a9c24_1947631_800x0_resize_q75_box.jpg"
            

        
            alt="Another Stilbaai beach scene, this time in panaroma format, taken a day before the SA lockdown."/> </a><figcaption>
            <p>Another Stilbaai beach scene, this time in panaroma format, taken a day before the SA lockdown.</p>
        </figcaption>
</figure>

<!--
2020-05-02 21:38 Boiler Room Solomun 2015 playing on the second screen while
I'm typing this.  I was hoping to understand why this has 43M views, and my
favourite boiler room of all time, Maceo Plex in Berlin in 2015, has "only"
11M.

Let me know in the comments if you read this. :)
-->
<p>The Weekly Head Voices #193 looks back at the three weeks from Monday April 12
to Sunday May 2.</p>
<p>This post has a strong nerd flavour. If that is not your inclination, please
use the table of contents (to your right) to navigate to the bits that you do
find interesting.</p>
<p>If you&rsquo;re in a rush, and can only select one section, I would recommend <a href="#the-amazing-niklas-luhmann-and-his-zettelkasten">the
one on Niklas Luhmann</a>.</p>
<p>Have fun!</p>
<h2 id="covid-19-status-update">COVID-19 status update</h2>
<p>On Friday, May 1, <a href="https://www.businessinsider.co.za/lockdown-level-4-what-is-now-allowed-2020-4">the South African lockdown was slightly lifted from level 5
to level
4</a>.</p>
<p>This means that a part of the workforce will start returning to work, and that
citizens are allowed slightly more freedom of movement.</p>
<p>If safety had been the only requirement, we should probably have had to
continue with level 5 for a while longer, but that darned economy unfortunately
also has to be kept afloat.</p>
<p>In spite of this, I was super pleased to read the following:</p>
<blockquote>
<p><strong>Masks are obligatory.</strong> Everyone has to wear cloth face masks outside their
homes. If you don&rsquo;t yet have a cloth mask, you can wear a scarf or a t-shirt
wrapped around your mouth and nose, says Dlamini-Zuma.</p>
</blockquote>
<p>This might end up being the thing that gets us through this in something that
resembles one piece.</p>
<p>The second announcement I was super happy with, was that we would be allowed
outside for exercise between 6 and 9 in the mornings.</p>
<p>So on Saturday morning I went out for my first post-level-5 run, ON THE
OUTSIDE. (It does feel strange going out on the street for the first time in
five weeks.)</p>
<p>The majority of people I saw actually had some form of face mask going on.</p>
<p>I had expected otherwise, because doing cardiorespiratory exercise with a mask
on is not easy, and people can be stubborn.</p>
<p><a href="https://www.runnersworld.com/advanced/a20842404/product-review-buff-headwear/">Buffs</a>
are these fantastically useful &ldquo;seamless tubular garments made from
high-performance microfibre&rdquo; that many runners swear by.</p>
<p>Well, it turns out you can <em>also</em> use them as as-running-proof-as-possible face
masks:</p>








<figure><a href="cpbotha_running_with_buff_mask.jpg">
    <img
        
            sizes="(min-width: 35em) 1200px, 100vw"
              
            srcset='
            
                   https://cpbotha.net/2020/05/03/weekly-head-voices-193-covid-19-part-3/cpbotha_running_with_buff_mask_hu815c169f7dc006fef835eddef66e09fe_118854_480x0_resize_q75_box.jpg 480w,
            
                   
            
                   
            
                   
            '

            
            
            src="https://cpbotha.net/2020/05/03/weekly-head-voices-193-covid-19-part-3/cpbotha_running_with_buff_mask.jpg"
            

         width="240"/> </a>
</figure>

<p>Pro-tip: If there&rsquo;s a runner in your life, and you&rsquo;re on the lookout for a
gift, just get them a buff. You can <em>never</em> have too many buffs.</p>
<h2 id="gou-2-is-10">GOU #2 is 10</h2>
<p>My most favourite middle child in the whole world recently hit the double
digits, and she was suitably chuffed with this.</p>
<p>It must be strange experiencing your 10th birthday under these truly surreal
conditions.</p>
<p>On the other hand, when you&rsquo;re 10, you probably don&rsquo;t dwell on thoughts like
that for too long.</p>
<h2 id="miscellaneous-catch-up">Miscellaneous catch-up</h2>
<p>In the past weeks, I wrote a number of other blog posts, started a new blog,
and discovered an obscure but fantastic new blogging tool.</p>
<p>Oh, and my expensive ergonomic keyboard broke.</p>
<h3 id="fantastic-blogging-tools-and-where-to-find-them">Fantastic blogging tools and where to find them</h3>
<p>It all started when I finally got around to exploring
<a href="https://ox-hugo.scripter.co/">ox-hugo</a>, the Emacs package for writing Hugo
posts using Org mode.</p>
<p>You might not recall this, but the mere <em>existence</em> of <a href="/2019/03/31/wordpress-to-hugo/#build-and-upload-the-new-static-hotness">ox-hugo was the reason
I chose
Hugo</a>
when it was time to leave Wordpress behind.</p>
<!--
Hey there friends reading these hidden messages!

There are multiple explicit and implicit streams of connection running through
these channels and it's lovely.

Anyways, it is now 22:44 and I finished the Solomun boiler room set.

There are indeed so many stories happening in those frames, many of which will
only become apparent after more viewings.

I'm now back to the Maceo Plex set, with a smile of recognition on my face.
-->
<p>Well, it turns out that, <em>if</em> you&rsquo;re an Emacs Org mode user, ox-hugo is pretty
close to blogging nirvana.</p>
<p>In the past few days, I&rsquo;ve used it to turn arbitrary Org mode entries from my
month journal into blog posts, to send the exact same Org mode file to two
different blogs with different sets of title and metadata, and to assert
Neo-in-the-matrix-style control over what goes where and how.</p>
<p>If I have to put my finger on the core of ox-hugo&rsquo;s extreme utility, I would
say that <a href="https://github.com/kaushalmodi">Kaushal Modi</a>, the brains behind
ox-hugo, has managed to create a perfect coupling between Org mode on the one
hand and Hugo on the other, a coupling that maximally leverages the strengths
of each.</p>
<p>(I will probably be writing more about this, but &hellip; elsewhere. <em>[queue
suspenseful music here]</em>)</p>
<h3 id="other-mostly-very-nerdy-blog-posts">Other mostly very nerdy blog posts</h3>
<p>As part of the ox-hugo investigation, I had to figure out how to <a href="https://vxlabs.com/2020/04/26/cite-consistently-between-org-ref-and-ox-hugo/">cite
consistently between straight Org mode and
ox-hugo</a>
for automatic bibtex-backed bibliographies.</p>
<p>Inspired by friend <a href="https://mentat.za.net/blog/2020/04/28/voice-capture-org-tasks-on-android/">St√©fan&rsquo;s post on voice capturing and automatically
transcribing notes to Org
mode</a>,
I figured out how to <a href="https://orgmode-exocortex.com/2020/04/30/voice-capture-org-mode-notes-and-more-using-siri-shortcuts-on-ios/">do the same on iOS and wrote it all
up</a>.</p>
<p>If you clicked on that second link, you will have discovered my brand new blog,
the hopefully catchily titled <a href="https://orgmode-exocortex.com/">Org Mode
Exocortex</a>. I will be posting <em>ultra</em>-nerdy Emacs
Org mode content over there.</p>
<p>(Friend St√©fan is the very first guest blogger, with a re-post of his Android
speech recognition post linked above. BTW, that was my first guest blogging
experience ever. Life for the Z-list blogger does not move fast.)</p>
<p>Finally, also thanks to ox-hugo&rsquo;s motivation, I figured (haha, now I see what I
did there) out how to make and publish a new <a href="/2020/05/02/drop-in-replacement-for-hugo-figure-shortcode-with-responsive-img-srcset/"><code>figure</code> shortcode for Hugo that
automatically resizes images and gets your browser to download only the best
one</a>!</p>
<h3 id="microsoft-sculpt-ergonomic-desktop-at-4-years-rip">Microsoft Sculpt Ergonomic Desktop at 4 years: RIP</h3>
<p>After all of that good news, I do have to report the following not-so-great news:</p>
<p>After just under four years of approximately one half of my typing, the
<a href="/2016/05/22/weekly-head-voices-107-balance/">Microsoft Sculpt Ergonomic keyboard I welcomed into my home at the start of
May of 2016</a>, has developed a key
failure.</p>
<p>More specifically, the physical &ldquo;G&rdquo;, which is my &ldquo;I&rdquo; (thanks
<a href="https://en.wikipedia.org/wiki/Dvorak_keyboard_layout">Dvorak</a>), fails about
30% of the time, with that duty cycle slowly growing.</p>
<p>(You may bring your jokes about why specifically the &ldquo;I&rdquo; is failing first to
the comment section below!)</p>
<p>I opened up the keyboard following <a href="http://emmanuelcontreras.com/how-to/how-to-disassemble-microsoft-sculpt-ergonomic-keyboard-and-make-it-wired/">the instructions and photos of Emmanuel
Contreras</a>.</p>
<p>(What I can add to Contreras&rsquo;s information, is that the palm rest is held fast
by no less than 12 little screws, some odd-sized. Pro-tip: When you remove all
of these, put them down in the same pattern as the holes, so that you can get
them back in later.)</p>
<p>However, one unfortunately ends up at the metal backing which is attached to
the top-plate with about 30 or more plastic pop-rivet like mechanisms.</p>
<p>Information online also seems to indicate that once a single key goes, you have
to replace the whole board.</p>
<p>Some more searching brought me to <a href="https://youtu.be/x09inK8-G1Y">this obscure but helpful YouTube
review</a> where Kevin explains that although
everyone at his company loved the keyboard, they had simply accepted it as part
of their business expense to replace them every 6 months to a year.</p>
<p>If you search through <a href="https://www.amazon.com/Microsoft-Ergonomic-Keyboard-Business-5KV-00001/product-reviews/B00CYX26BC/ref=cm_cr_arp_d_viewopt_kywd?pageNumber=1&amp;filterByKeyword=durability">the Amazon reviews for
&ldquo;durability&rdquo;</a>,
it really starts to look like a case of a fantastic keyboard marred by issues
with its durability.</p>
<p>However, if you need a relatively affordable &ldquo;ergonomic&rdquo; keyboard, where with
&ldquo;ergonomic&rdquo; I mean shaped in such a way that your wrists get to stay more or
less straight while typing, with really great feel and low-impact typing, the
Sculpt comes out on top.</p>
<p>Although it goes against my grain, I should probably be happy with the above
average 4 years that this one managed, and start finding a local source for its
inevitable replacement.</p>
<p>Nerds in the audience: I am very curious to hear about your keyboard
preferences in the comments. Let&rsquo;s go!</p>
<h2 id="two-lessons-learnt-from-how-to-take-smart-notes">Two lessons learnt from How to Take Smart Notes</h2>
<p>On March 31 I quickly read through <a href="https://www.goodreads.com/en/book/show/34507927-how-to-take-smart-notes">S√∂nke Ahrens&rsquo;s book, How to Take Smart
Notes</a>.</p>
<p>(The full title is actually &ldquo;How to Take Smart Notes: One Simple Technique to
Boost Writing, Learning and Thinking &ndash; for Students, Academics and Nonfiction
Book Writers&rdquo;)</p>
<h3 id="the-most-portable-cross-platform-ebook-format-with-self-contained-annotations-is">The most portable cross-platform ebook format with self-contained annotations is&hellip;</h3>
<p>I bought the Kindle book on Amazon, because that&rsquo;s how I&rsquo;ve been doing it for
years.</p>
<p>However, although I prefer reading novels on my Kindle e-Ink device, for
reference works it&rsquo;s a deal breaker that my highlights and notes are not in a
standards compliant format that integrates nicely with <a href="/2019/09/21/note-taking-strategy-2019/">my existing personal
knowledge management system</a>.</p>
<p>My goal was to find an alternative format for these books with the following features:</p>
<ul>
<li>Before you answer PDF, which I use extensively for academic papers, typeset
books, and many other things: The alternative format should be fully
reflowable, like the source Kindle book.</li>
<li>Readable and annotations editable on all my non-Kindle devices (Windows,
Linux, macOS, iOS).</li>
<li>Most importantly: Flexible annotations, including at least highlighting and
positional notes, that are stored within the file itself, so they can never
be lost.</li>
</ul>
<p>I didn&rsquo;t expect this to be too much of a challenge.</p>
<p>I was wrong.</p>
<p>After a number of hours spent spelunking down a number of different
rabbit-holes, with epub3 being the greatest disappointment (the spec has all
the features, but the implementations largely lack good annotation support), I
ended up in a place where you probably would not expect to find me&hellip;</p>
<p>Dear readers, the best format that satisfies all requirements above
is&hellip; <code>&lt;FRITS_DRUMROLL /&gt;</code> &hellip; <strong>Microsoft DOCX</strong>!</p>
<p>Since then, I&rsquo;ve been DeDRM&rsquo;ing (google it) the Kindle reference books I
purchase in order to be able to read and annotate them across all my platforms.</p>
<p>For this, the iPad is pretty great.</p>
<p>Once read, the DOCX files, including all of the annotations I made, are stored
in the correct place in my synchronised file hierarchy, and are fully
searchable and accessible with standard tools.</p>
<h3 id="the-amazing-niklas-luhmann-and-his-zettelkasten">The amazing Niklas Luhmann and his Zettelkasten</h3>
<p>The book itself, <em>How to Take Smart Notes</em>, spends well-deserved time on the
phenomenon that was the prodigiously productive German sociologist Professor
<a href="https://en.wikipedia.org/wiki/Niklas_Luhmann">Niklas Luhmann</a>.</p>
<p>Over his career, Prof. Luhmann wrote more than 70 books and published almost
400 research articles.</p>
<p>He made a massive impact on the world of sociology and systems theory.</p>
<p>When asked in <a href="https://www.uni-bielefeld.de/soz/luhmann-archiv/pdf/jschmidt_zettelkasten-als-uberraschungsgenerator.pdf">a 1997
interview</a>
how he managed to this productive, he answered:</p>
<blockquote>
<p>&ldquo;Ich denke ja nicht alles allein, sondern das
geschieht weitgehend im Zettelkasten. [&hellip;]
Meine Produktivit√§t ist im wesentlichen aus dem
Zettelkasten-System zu erkl√§ren. [&hellip;]
Der Zettelkasten kostet mich mehr Zeit als das
B√ºcherschreiben</p>
</blockquote>
<p>Translated this is probably something like (German readers, help me out here
please):</p>
<blockquote>
<p>I don&rsquo;t think everything by myself, but that largely happens in the slip box. [&hellip;]
My productivity is essentially due to that slipbox system. [..]
The slipbox costs me more time than that writing books</p>
</blockquote>
<p>The <em>zettelkasten</em> he referred to were quite simply a set of wooden slipboxes,
in which he could store pieces of paper (the &ldquo;slips&rdquo;), each of which had a
single idea written on it.</p>
<p>It looked more or less exactly like this:</p>








<figure><a href="https://niklas-luhmann-archiv.de/">
    <img
        
            sizes="(min-width: 35em) 1200px, 100vw"
              
            srcset='
            
                   https://cpbotha.net/2020/05/03/weekly-head-voices-193-covid-19-part-3/zettelkasten_hu61195ac08eb6003207b1b95bfe6dfa0b_91461_480x0_resize_q75_box.jpg 480w,
            
                   https://cpbotha.net/2020/05/03/weekly-head-voices-193-covid-19-part-3/zettelkasten_hu61195ac08eb6003207b1b95bfe6dfa0b_91461_800x0_resize_q75_box.jpg 800w,
            
                   
            
                   
            '

            
            
            src="https://cpbotha.net/2020/05/03/weekly-head-voices-193-covid-19-part-3/zettelkasten_hu61195ac08eb6003207b1b95bfe6dfa0b_91461_800x0_resize_q75_box.jpg"
            

        
            alt="Photo of Luhmann&amp;rsquo;s Zettelkasten. Click to go to the fully online Niklas Luhmann-Archiv."/> </a><figcaption>
            <p>Photo of Luhmann&rsquo;s Zettelkasten. Click to go to the fully online Niklas Luhmann-Archiv.</p>
        </figcaption>
</figure>

<p>Over the course of his career, he managed to write about 90000 (yes, ninety
thousand) of these notes, all of which you can now <a href="https://niklas-luhmann-archiv.de/">browse online at the Niklas
Luhmann-Archiv</a>.</p>
<p>Importantly, he had come up with an ingenious numbering system for linking each
new note to its chain of predecessors, and also to other related chains
anywhere in the zettelkasten.</p>
<p>When it was time to write a book or a paper, he would dive into his this
collection, and then take a stroll through his amazing web of interlinked
thoughts, some of them having matured for years.</p>
<p>Putting together the publication became an exercise in harvesting index cards
from his slipboxes, instead of a positively intimidating mountain of writing,
thinking and rewriting.</p>
<p>This is such a boss-level example of the principle of
<a href="https://cpbotha.net/tags/compounding/">compounding</a>, and one which is
definitely worth trying to follow.</p>
<p>Since reading Ahrens&rsquo;s book, I have started extending <a href="/2019/09/21/note-taking-strategy-2019/">my existing note-taking
universe</a> to be more Zettelkasten-like,
when appropriate.</p>
<p>Org mode is a great basis for this, and packages like
<a href="https://github.com/jethrokuan/org-roam">org-roam</a> help us to get closer to our
90-thousand-notes-dreams.</p>
<p>On a higher level, I have been thinking and writing a great deal about how to
merge effectively the Zettelkasten one-idea-per-note approach into the full
spectrum of writing complexity that Org mode supports.</p>
<p>It is important to be mindful of the <em>mode</em> of documentation that you need to
apply at any give point.</p>
<p>If you want to read more about the Luhmann&rsquo;s Zettelkasten, <a href="https://writingcooperative.com/zettelkasten-how-one-german-scholar-was-so-freakishly-productive-997e4e0ca125">this Writing
Cooperative article in
English</a>
and <a href="https://www.heise.de/newsticker/meldung/Missing-Link-Luhmanns-Denkmaschine-endlich-im-Netz-4364512.html">this Heise article in
German</a>
are a great start.</p>
<p>This might not be the last time that you&rsquo;ll hear me talking about Luhmann and
his Zettelkasten.</p>
<h2 id="uitzwaaien">Uitzwaaien</h2>
<p>Thank you friends for reading this and connecting with me here!</p>
<p>I look forward to our next meeting.</p>
]]></content:encoded></item><item><title>Moving 18 years of this personal blog from Wordpress to Hugo</title><link>https://cpbotha.net/2019/03/31/wordpress-to-hugo/</link><pubDate>Sun, 31 Mar 2019 00:10:00 +0200</pubDate><author>cpbotha@cpbotha.net (Charl P. Botha)</author><guid>https://cpbotha.net/2019/03/31/wordpress-to-hugo/</guid><description> It sounds a bit more involved than it turned out to be, but I have a thing for posts titled &amp;ldquo;Moving M years of K from Y to Z&amp;rdquo;.
As can be seen in the history page or rather the first weblog entry dated 2001-02-27, this blog has been around for more than 18 years.
It started as some CGI script, then spent some time as a LiveJournal, then, thanks to meeting Professor Biella Coleman who was at that point still a grad student, went through a Movable Type phase and then, at some point, converted to Wordpress.</description><content:encoded><![CDATA[ <p>It sounds a bit more involved than it turned out to be, but I have a thing for
posts titled &ldquo;Moving M years of K from Y to Z&rdquo;.</p>
<p>As can be seen in the <a href="/about/history/">history page</a> or rather the <a href="/2001/02/27/1469/">first
weblog entry dated 2001-02-27</a>, this blog has been around
for more than 18 years.</p>
<p>It started as some CGI script, then spent some time as a LiveJournal, then,
thanks to meeting <a href="https://en.wikipedia.org/wiki/Gabriella_Coleman">Professor Biella
Coleman</a> who was at that
point still a grad student, went through a Movable Type phase and then, at
some point, converted to Wordpress.</p>
<p>I don&rsquo;t know when exactly the Wordpress stage started, but it&rsquo;s probably not
too long after Wordpress was born in 2003 somewhere.</p>
<p>Anyways, after many happy years together, our ways are parting.</p>
<p>The new block-based editor in Wordpress 5, <a href="/tags/gutenberg/">Gutenberg</a>,
caters more for Wordpress as a CMS, and far less for Wordpress as a platform
for long-form blogging.</p>
<p>Personally I have noticed that the new editor gets in my way most of the time,
where the pre-Gutenberg editor worked just perfectly, for my use case.</p>
<p>Because life is short, and many more blog posts have to written, I made the
decision, not easily, to move this blog away from Wordpress, to a different
and hopefully more suitable platform.</p>
<p>I ended up choosing Hugo because its native mode of operation involves me
writing posts in some form of text editor, which is my preferred modality in
any case, but primarily because of all the static generators, it was the only
one with a prominent <a href="https://ox-hugo.scripter.co">Emacs Orgmode plugin</a>.</p>
<p>(Based on what I now know about Hugo, it looks like once again Emacs Orgmode
helped me make the best decision.)</p>
<p>In the rest of this post I describe the process of migrating the blog you see
before you from Wordpress to Hugo.</p>
<h2 id="export-data-from-wordpress">Export data from Wordpress.</h2>
<p>I used <a href="https://github.com/SchumacherFM/wordpress-to-hugo-exporter">SchumacherFM&rsquo;s
wordpress-to-hugo-exporter</a>
to export my whole wordpress site to a Hugo-compatible project.</p>
<p>Following(ish) <a href="https://github.com/SchumacherFM/wordpress-to-hugo-exporter#usage-with-a-self-hosted-wordpress-installation">the
instructions</a>,
I git cloned the <code>wordpress-to-hugo-exporter</code> into the <code>wp-content/plugins</code>
folder of the relevant wordpress installation, and then I invoked the export
script with <code>php hugo-export-cli.php</code>.</p>
<p>The end-result was a 600MB <code>/tmp/wp-hugo.zip</code> which I SCP&rsquo;d down to my laptop
and then unzipped into a directory called <code>hugo-export</code>.</p>
<h2 id="install-hugo-get-site-up-and-running">Install hugo get site up and running.</h2>
<p>The main goal here was to get Hugo running with the exported wordpress data.</p>
<p>After installing hugo with <code>brew install hugo</code>, I continued with Hugo&rsquo;s <a href="https://gohugo.io/getting-started/quick-start/">quick
start instructions</a>.</p>
<p>Create the new Hugo site:</p>
<pre tabindex="0"><code>hugo new site cpbotha.net
</code></pre><p>Copy the exported contents into the Hugo site:</p>
<pre tabindex="0"><code>mv hugo-export/* cpbotha.net/content/
</code></pre><p>I chose <a href="https://themes.gohugo.io/hugo-theme-minos/">the minos theme</a> from the
great <a href="https://themes.gohugo.io">Hugo Themes repository</a> and installed it into
the new site like this:</p>
<pre tabindex="0"><code>cd cpbotha.net/themes
git clone https://github.com/carsonip/hugo-theme-minos.git
</code></pre><p>Before starting up the new site for the first time, I edited the top-level
<code>config.toml</code> so it looked like the following:</p>
<div class="highlight"><pre tabindex="0" style="color:#586e75;background-color:#eee8d5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-toml" data-lang="toml"><span style="display:flex;"><span><span style="color:#268bd2">baseURL</span> = <span style="color:#2aa198">&#34;https://cpbotha.net/&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#268bd2">languageCode</span> = <span style="color:#2aa198">&#34;en-us&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#268bd2">title</span> = <span style="color:#2aa198">&#34;voices in my head&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#268bd2">theme</span> = <span style="color:#2aa198">&#34;hugo-theme-minos&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#93a1a1;font-style:italic"># required for disqus comments, see next section</span>
</span></span><span style="display:flex;"><span><span style="color:#268bd2">disqusShortname</span> = <span style="color:#2aa198">&#34;cpbotha&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[<span style="color:#268bd2">permalinks</span>]
</span></span><span style="display:flex;"><span>  <span style="color:#93a1a1;font-style:italic"># mimic wordpress permalink configuration for future posts</span>
</span></span><span style="display:flex;"><span>  <span style="color:#93a1a1;font-style:italic"># exported wordpress posts have `url` correctly set which overrides everything</span>
</span></span><span style="display:flex;"><span>  <span style="color:#268bd2">posts</span> = <span style="color:#2aa198">&#34;/:year/:month/:day/:slug/&#34;</span>
</span></span></code></pre></div><p>Note: The theme that you currently see on this site is a modified version of
minos, implemented using Hugo&rsquo;s <a href="https://gohugo.io/themes/theme-components/">Theme
Components</a> mechanism.</p>
<h3 id="fire-up-hugo-in-development-mode">Fire up Hugo in development mode!</h3>
<p>To see your site in all of its new static glory, you can start Hugo in
development mode from the project&rsquo;s top-level directory:</p>
<pre tabindex="0"><code>cd cpbotha.net/
hugo serve -D
</code></pre><p>By pointing your browser at <code>http://localhost:1313</code>, you&rsquo;ll be able to see a
dynamic version of your site that automatically refreshes whenever you make
changes to any of the underlying files.</p>
<h2 id="transfer-comments-to-disqus">Transfer comments to Disqus.</h2>
<p>This blog&rsquo;s small but amazing group of commenters, and the comments they have
written over the years, are super valuable to me. It was important to transfer
them and their work over to the new blog without a hitch.</p>
<h3 id="motivation">Motivation.</h3>
<p>I considered self-hosting comments using something like
<a href="https://github.com/adtac/commento">Commento</a>, but the fact that I was able to
get ad-free Disqus for free, as this site does not do advertising, and the
fact that the conversion from Wordpress to Disqus is well-documented, won me
over.</p>
<p>Furthermore, going from Wordpress to Commento often involves a quick stop at
Disqus in any case. In other words, the option of self-hosting remains.</p>
<h3 id="procedure">Procedure.</h3>
<p>The Disqus plugin for Wordpress has an automatic &ldquo;import comments&rdquo; mode which
promises to transfer all of your wordpress comments to Disqus.</p>
<p>In my case, this worked for most posts, except those with more than 60 or 70
comments, in thich no comments were transferred.</p>
<p>I ended up following the &ldquo;manual import&rdquo; procedure <a href="https://help.disqus.com/import-export-and-syncing/importing-comments-from-wordpress">documented in the Disqus
help</a>.</p>
<p>In short, you export your whole wordpress site as XML / WXR, download the
file, and then import that using the upload functionality of <a href="https://import.disqus.com/">the Disqus
import site</a>.</p>
<p>This seemed to have transferred all of my comments.</p>
<p>In spite of multiple attempts at automatic import, followed by the manual
import, Disqus was clever enough not to duplicate any comments.</p>
<h4 id="export-domain-name-should-be-same-as-display-domain-name">Export domain name should be same as display domain name.</h4>
<p>It is important when you export your Wordpress comments, that the domain-name
you export from is the same as the domain-name where you&rsquo;ll end up displaying
the Disqus comments.</p>
<p>If this is not the case, you will have to edit the exported XML files to
search and replaced all of the instances of export domain name to display
domain name.</p>
<h2 id="build-and-upload-the-new-static-hotness">Build and upload the new static hotness.</h2>
<p>My workflow now looks like this:</p>
<ol>
<li>Write new post in Emacs with <code>hugo serve -D</code> running. The browser window
adjacent to Emacs updates in real-time showing my changes. (I will eventually look into
<a href="https://ox-hugo.scripter.co">ox-hugo</a> so I can write posts in orgmode.)</li>
<li>When I&rsquo;m happy with the post, I build the site with <code>hugo -d ~/Downloads/cpbotha.net</code>
and sync it up to my web host using <code>rsync</code></li>
</ol>
<p>You can build the site by just invoking <code>hugo</code> in the top-level directory, in
which case the output of the build will end up in a sub-directory named
<code>public</code>.</p>
<p>However, I keep the source to this blog in a git repository in my Dropbox, and
I would prefer not syncing the expendable 600MB+ output directory, instead
building it and syncing it from <code>~/Downloads</code>.</p>
<p>The little bash script I used to perform step 2 in one go looks like this:</p>
<div class="highlight"><pre tabindex="0" style="color:#586e75;background-color:#eee8d5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#93a1a1;font-style:italic">#!/bin/bash
</span></span></span><span style="display:flex;"><span><span style="color:#93a1a1;font-style:italic"></span>hugo -d ~/Downloads/cpbotha.net
</span></span><span style="display:flex;"><span><span style="color:#93a1a1;font-style:italic"># sync contents of public dir into static_cpbothanet/</span>
</span></span><span style="display:flex;"><span>rsync -av --progress ~/Downloads/cpbotha.net/ <span style="color:#2aa198">\
</span></span></span><span style="display:flex;"><span><span style="color:#2aa198"></span>cpbotha@my.webhost.com:~/webapps/static_cpbothanet
</span></span></code></pre></div><h2 id="bonus-level-bundling-and-automatic-resizing-of-images">Bonus level: Bundling and automatic resizing of images.</h2>
<p>As each edition of <a href="categories/weekly-head-voices/">the WHV</a> usually contains
at least an image or two, an important piece of the puzzle was how to keep
images together with the markdown post source, instead of in a separate static
directory.</p>
<p>In addition, Wordpress has this great feature where it automatically resizes
images on upload, enabling posts to inline lower resolution versions that can
be clicked on to see the full resolution.</p>
<p>I had resigned myself to the reality that this would probably be a manual
process for Hugo.</p>
<p>Thanks to a <a href="https://laurakalbag.com/processing-responsive-images-with-hugo/">super useful and detailed post by Laura
Kalbag</a>, I
learned that the image-bundling problem had already been addressed by Hugo,
and that Laura Kalbag had developed a Hugo shortcode which solved the second
problem using Hugo&rsquo;s built-in image processing and a relatively new browser
feature called <a href="https://ericportis.com/posts/2014/srcset-sizes/">srcsets</a>.</p>
<p>With her <code>img</code> shortcode, high-resolution images are automatically resized
into multiple lower resolution versions at build time, all of which will be
offered to the client, which will then decide which to download based on the
client-side display parameters.</p>
<p>With regard to the image bundling, this is simply a matter of creating a
directory containing the relevant images and the post contents in a file
called <code>index.md</code>.</p>
<p>In my case, I would create a post by invoking the following command in the
top-level directory:</p>
<div class="highlight"><pre tabindex="0" style="color:#586e75;background-color:#eee8d5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>hugo new content/posts/2019/some-post-slug/index.md
</span></span></code></pre></div><p>Based on the <code>permalinks</code> setting in the <code>config.toml</code>, this post will be
available at <code>/year/month/day/slug-in-frontmatter/</code>. The <code>index.md</code> can refer
to images that are in the same directory using just their relative filenames.</p>
<h2 id="mailing-lists">Mailing lists.</h2>
<p>In addition to The Commenters mentioned above, I also treasure The Readers. :)</p>
<p>On the Wordpress blog, I had already started making use of
<a href="https://mailchimp.com/">Mailchimp</a> a while back for the daily and the weekly
post emails, in addition to Wordpress.com&rsquo;s own email subscription which
services the largest group of readers.</p>
<p>I briefly looked into <a href="https://tinyletter.com/">tinyletter</a>, but then decided
that it made the most sense to migrate the Wordpress.com email subscribers
over to the Mailchimp daily email list.</p>
<p>It was relatively straight-forward to export a CSV with subscriber address
from Wordpress.com and then to import that into the Mailchimp list.</p>
<h2 id="wrapping-up">Wrapping up.</h2>
<p>Converting this blog from Wordpress to Hugo went significantly more smoothly
than I expected. In fact, the first Hugo version was online after a single
evening of work.</p>
<p>Other than that, Hugo has already impressed me a number of times with its
speed, and features that have clearly been thought through. Besides the
built-in image processing and the theme composition, there are smaller but
still super useful features such as <a href="https://gohugo.io/content-management/archetypes/">the
archetypes</a> which I have
configured to help me start a blog post more easily.</p>
<p>Let me know in the comments if you have any other questions.</p>
<p>Here&rsquo;s to at least 18 more years of blog posts!</p>
]]></content:encoded></item></channel></rss>