<!doctype html><html><head><title>Interesting Python factoid of the week // voices in my head</title><meta charset=utf-8><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta name=author content="Charl P. Botha"><meta property="og:title" content="Interesting Python factoid of the week"><meta property="og:description" content=">>> def someFunc(someParam, someDict={}): ... someDict[someParam] = someParam ... print someDict ... >>> someFunc('hello1') {'hello1': 'hello1'} >>> someFunc('hello2') {'hello2': 'hello2', 'hello1': 'hello1'} >>> someFunc('hello3') {'hello2': 'hello2', 'hello3': 'hello3', 'hello1': 'hello1'} >>> The moral of this story is: be careful when using default parameters for dictionaries, lists and such like. One could be forgiven for thinking that the default parameter gets initialised with every invocation, but that is clearly not the case."><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="https://cpbotha.net/2003/02/25/interesting-python-factoid-of-the-week/"><link rel="shortcut icon" href=/favicon.ico><link href=https://cpbotha.net/webfonts/ptserif/main.css rel=stylesheet type=text/css><link href=https://cpbotha.net/webfonts/source-code-pro/main.css rel=stylesheet type=text/css><style>@import 'https://fonts.googleapis.com/css2?family=Newsreader:ital,wght@0,400;0,700;1,400;1,700&family=Roboto:ital,wght@0,400;0,700;1,400;1,700&display=swap'</style><link rel=stylesheet href=https://cpbotha.net/css/style.css><meta name=generator content="Hugo 0.101.0"></head><body><div id=container><header id=header><div id=header-outer class=outer><div id=header-inner class=inner><a id=main-nav-toggle class=nav-icon href=javascript:;></a>
<a id=logo class=logo-text href=https://cpbotha.net/>voices in my head</a><nav id=main-nav><a class=main-nav-link href=/about/>About</a>
<a class=main-nav-link href=/links/>Links</a>
<a class=main-nav-link href=/archive/>Posts Archive</a>
<a class=main-nav-link href=/software/>Software</a>
<a class=main-nav-link href=/following-this-blog/>Following this blog</a></nav><nav id=sub-nav><div id=search-form-wrap></div></nav></div></div></header><section id=main class=outer><article class="article article-type-post" itemscope itemprop=blogPost><div class=article-inner><header class=article-header><h1 class=article-title itemprop=name>Interesting Python factoid of the week</h1></header><div class=article-meta><a href=/2003/02/25/interesting-python-factoid-of-the-week/ class=article-date><time datetime=2003-02-25T14:35:42.000+00:00 itemprop=datePublished>2003-02-25</time></a><div class=post-categories><div class=article-category><a class=article-category-link href=https://cpbotha.net//categories/uncategorized>Uncategorized</a></div></div><div class=article-comment-link-wrap><a href=/2003/02/25/interesting-python-factoid-of-the-week/#isso-thread class=article-comment-link>Comments</a></div></div><div class=article-entry itemprop=articleBody><pre tabindex=0><code>&gt;&gt;&gt; def someFunc(someParam, someDict={}):
...    someDict[someParam] = someParam
...    print someDict
...
&gt;&gt;&gt; someFunc(&#39;hello1&#39;)
{&#39;hello1&#39;: &#39;hello1&#39;}
&gt;&gt;&gt; someFunc(&#39;hello2&#39;)
{&#39;hello2&#39;: &#39;hello2&#39;, &#39;hello1&#39;: &#39;hello1&#39;}
&gt;&gt;&gt; someFunc(&#39;hello3&#39;)
{&#39;hello2&#39;: &#39;hello2&#39;, &#39;hello3&#39;: &#39;hello3&#39;, &#39;hello1&#39;: &#39;hello1&#39;}
&gt;&gt;&gt;
</code></pre><p>The moral of this story is: be careful when using default parameters for dictionaries, lists and such like. One could be forgiven for thinking that the default parameter gets initialised with every invocation, but that is clearly not the case.</p><p>To emulate the “faulty” behaviour, do something like:</p><pre tabindex=0><code>&gt;&gt;&gt; def someFunc(someParam, someDict=None):
...    if someDict is None:
...       someDict = {}
...    someDict[someParam] = someParam
...    print someDict
...
&gt;&gt;&gt; someFunc(&#39;hello1&#39;)
{&#39;hello1&#39;: &#39;hello1&#39;}
&gt;&gt;&gt; someFunc(&#39;hello2&#39;)
{&#39;hello2&#39;: &#39;hello2&#39;}
&gt;&gt;&gt;
</code></pre><p>Remember kids, if you think Python is just a scripting language, you should take the time to have a much closer look. If, after your look, you still haven’t seen the light, natural selection poses a very serious threat to your continued existence.</p></div></div><nav id=article-nav><a href=/2003/02/26/euphemisms-r-us/ id=article-nav-newer class=article-nav-link-wrap><div class=article-nav-title><span>&lt;</span>&nbsp;
Euphemisms ‘R Us</div></a><a href=/2003/02/19/i-rule-2/ id=article-nav-older class=article-nav-link-wrap><div class=article-nav-title>I rule&nbsp;<span>></span></div></a></nav></article><style>.isso-comment .avatar img{max-width:100%}.isso-comment>div.text-wrapper>div.text p{margin-top:1em}</style><script data-isso=/isso/cpbotha.net/ data-isso-reply-notifications=true data-isso-avatar=false data-isso-gravatar=true data-isso-max-comments-nested=inf data-isso-max-comments-top=inf data-isso-require-email=true data-isso-vote=false src=/isso/cpbotha.net/js/embed.min.js></script><section data-title="Interesting Python factoid of the week" id=isso-thread></section></section><footer id=footer><div id=search-form-wrap><form class=search-form method=get action=https://duckduckgo.com/><input type=search name=q class=search-text placeholder title size=20 maxlength=128>
<input type=hidden name=sites value=cpbotha.net>
<input type=submit value="Search site with DDG" class=hidden></form></div><div class=outer><div id=footer-info class=inner>&copy; 2022 Charl P. Botha<br>Powered by <a href=https://gohugo.io target=_blank>Hugo</a> with theme <a href=https://github.com/carsonip/hugo-theme-minos target=_blank>Minos</a></div></div><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/styles/solarized-light.min.css integrity=sha384-bFKDPkG3geCujYJIbPornilfOgmYQoPS45Oh/8daqqo1SUwNY06OeHorpgnNvx82 crossorigin=anonymous><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js integrity="sha256-KbfTjB0WZ8vvXngdpJGY3Yp3xKk+tttbqClO11anCIU=" crossorigin=anonymous></script>
<script>hljs.initHighlightingOnLoad()</script><script>document.getElementById("main-nav-toggle").addEventListener("click",function(){var e=document.getElementById("header");e.classList.contains("mobile-on")?e.classList.remove("mobile-on"):e.classList.add("mobile-on")})</script></footer></div></body></html>