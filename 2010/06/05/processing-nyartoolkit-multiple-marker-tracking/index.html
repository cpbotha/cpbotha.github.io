<!doctype html><html>
<head>
<title>Processing + NyARToolkit + multiple marker tracking // voices in my head</title>
<meta charset=utf-8>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1">
<meta name=author content="Charl P. Botha">
<meta property="og:title" content="Processing + NyARToolkit + multiple marker tracking">
<meta property="og:description" content="For various reasons, I need to do multiple marker tracking in processing with NyARToolkit. However, with the default NyAR4psg layer between these two, multiple marker tracking is downright hard, and when you get it working, itâ€™s not quite what you expect. After a few days of Java hacking, during which I was very pleasantly surprised with eclipse, I am now pleased to present to you my modifications to the NyAR4psg that makes multiple marker tracking easy!">
<meta property="og:type" content="website">
<meta property="og:locale" content="en_US">
<meta property="og:url" content="https://cpbotha.net/2010/06/05/processing-nyartoolkit-multiple-marker-tracking/">
<link rel="shortcut icon" href=/favicon.ico>
<link href=https://cpbotha.net/webfonts/ptserif/main.css rel=stylesheet type=text/css>
<link href=https://cpbotha.net/webfonts/source-code-pro/main.css rel=stylesheet type=text/css>
<style>@import 'https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,400;0,700;1,700&display=swap'</style>
<link rel=stylesheet href=https://cpbotha.net/css/style.css>
<meta name=generator content="Hugo 0.88.1">
</head>
<body>
<div id=container>
<header id=header>
<div id=header-outer class=outer>
<div id=header-inner class=inner>
<a id=main-nav-toggle class=nav-icon href=javascript:;></a>
<a id=logo class=logo-text href=https://cpbotha.net/>voices in my head</a>
<nav id=main-nav>
<a class=main-nav-link href=/about/>About</a>
<a class=main-nav-link href=/links/>Links</a>
<a class=main-nav-link href=/archive/>Posts Archive</a>
<a class=main-nav-link href=/software/>Software</a>
<a class=main-nav-link href=/following-this-blog/>Following this blog</a>
</nav>
<nav id=sub-nav>
<div id=search-form-wrap>
</div>
</nav>
</div>
</div>
</header>
<section id=main class=outer>
<article class="article article-type-post" itemscope itemprop=blogPost>
<div class=article-inner>
<header class=article-header>
<h1 class=article-title itemprop=name>Processing + NyARToolkit + multiple marker tracking</h1>
</header>
<div class=article-meta>
<a href=/2010/06/05/processing-nyartoolkit-multiple-marker-tracking/ class=article-date>
<time datetime=2010-06-05T22:59:24.000+00:00 itemprop=datePublished>2010-06-05</time>
</a>
<div class=post-categories>
<div class=article-category>
<a class=article-category-link href=https://cpbotha.net//categories/howto>howto</a>
<span>></span>
<a class=article-category-link href=https://cpbotha.net//categories/nerd>nerd</a>
<span>></span>
<a class=article-category-link href=https://cpbotha.net//categories/tech>tech</a>
</div>
</div>
<div class=article-comment-link-wrap>
<a href=/2010/06/05/processing-nyartoolkit-multiple-marker-tracking/#isso-thread class=article-comment-link>Comments</a>
</div>
</div>
<div class=article-entry itemprop=articleBody>
<p>For various reasons, I need to do multiple marker tracking in <a href=http://processing.org/ title="processing website">processing</a> with <a href=http://nyatla.jp/nyartoolkit/wiki/index.php?FrontPage.en title="NyARToolkit website">NyARToolkit</a>. Â However, with the default <a href=http://nyatla.jp/nyartoolkit/wiki/index.php?NyAR4psg.en title="Link to NyAR4psg page">NyAR4psg</a> layer between these two, multiple marker tracking is downright hard, and when you get it working, itâ€™s not quite what you expect. After a few days of Java hacking, during which I was very pleasantly surprised with eclipse, I am now pleased to present to you my modifications to the NyAR4psg that makes multiple marker tracking easy! See here:
<figure><a href=/wp-content/uploads/2010/06/nyarmultiboard_ss.jpg>
<img src=/wp-content/uploads/2010/06/nyarmultiboard_ss.jpg alt="Standard hiro and kanji markers tracked simultaneously with augmented reality sphere and cube. In the background some artwork by my daughter!"> </a><figcaption>
<p>Standard hiro and kanji markers tracked simultaneously with augmented reality sphere and cube. In the background some artwork by my daughter!</p>
</figcaption>
</figure>
</p>
<p>Iâ€™ve called it NyARMultiBoard, and you can use it instead of the default NyARBoard if you want to track multiple markers.</p>
<p>Download a ZIP file containing everything (source code, jar files) from <a href=http://cpbotha.net/files/nyar4psg_multimarker/ title="Link to NyARMultiBoard archive">this directory</a>. Â If you unpack this into your processing sketchbook/libraries directory, it should work out of the box. Â Itâ€™s a drop-in replacement for NyAR4psg, so you donâ€™t need to have that installed as well. There is an example to get you started in NyAR2/example/NyARMultiTest. Â Note: This uses the GSVideo capturing stack as I explain <a href=http://cpbotha.net/2010/03/04/processing-gsvideo-nyartoolkit-on-linux-x86_64/ title="howto getting gsvideo going on x76_64">here</a>, you should easily be able to change it back to processing defaults (just change GSCapture to Capture).</p>
<p><em>Please let me know in the comments if this works (or doesnâ€™t) for you!</em></p>
<p>I made this screencast to demonstrate the multiple marker tracking, assisted by <a href=http://cpbotha.net/2009/09/20/weekly-head-voices-4-the-new-roomie-medvis-at-mevis-fairy-tale-beach/ title="The New Roomie blog">TNR</a>:</p>
<div class=jetpack-video-wrapper>
<span class=embed-youtube style=text-align:center;display:block><iframe allowfullscreen class=youtube-player height=473 src="https://www.youtube.com/embed/a9nXZqtkrsk?version=3&rel=1&fs=1&autohide=2&showsearch=0&showinfo=1&iv_load_policy=1&wmode=transparent" style=border:0 type=text/html width=840></iframe></span>
</div>
<p>I also made this really bad screencast (old webcam + night time lighting + transcoding):</p>
<div class=jetpack-video-wrapper>
<span class=embed-youtube style=text-align:center;display:block><iframe allowfullscreen class=youtube-player height=473 src="https://www.youtube.com/embed/5qAMUM7Z1_4?version=3&rel=1&fs=1&autohide=2&showsearch=0&showinfo=1&iv_load_policy=1&wmode=transparent" style=border:0 type=text/html width=840></iframe></span>
</div>
<p><strong>If youâ€™re really into the details</strong></p>
<p>Iâ€™ve just added two new classes NyARMultiBoard and NyARMultiBoardMarker to the default NyAR4psg distribution. Very importantly, NyARToolkit itself needs to be patched with one extra method in NyARDetectMarker, see the NyARMultiBoard comments.</p>
<p><strong>Update on 20110304</strong></p>
<p>Iâ€™ve fixed the problematic frame bug in gsvideo that many of you have been running into. See <a href=http://cpbotha.net/2011/03/04/i-crushed-the-gsvideo-problematic-frame-error/ title="post with gsvideo problematic frame error fix">this post</a>.</p>
<p><strong>Update on 20110305</strong></p>
<p>Iâ€™ve updated NyAR2 so it works with the P3D renderer as well, which is often faster for blitting the webcam image onto the display. The updated zip file is named NyAR2-20110305.zip, and it can be downloaded from the <a href=http://cpbotha.net/files/nyar4psg_multimarker/ title="NyAR2 multimarker download directory.">usual directory</a>. My changes are based on NyAR4psg 0.3.0 and NyARToolkit 2.5.2.</p>
</div>
<footer class=article-footer>
<ul class=article-tag-list>
<li class=article-tag-list-item>
<a class=article-tag-list-link href=https://cpbotha.net//tags/augmented-reality>augmented reality
</a>
</li>
<li class=article-tag-list-item>
<a class=article-tag-list-link href=https://cpbotha.net//tags/nyartoolkit>nyartoolkit
</a>
</li>
<li class=article-tag-list-item>
<a class=article-tag-list-link href=https://cpbotha.net//tags/processing>processing
</a>
</li>
</ul>
</footer>
</div>
<nav id=article-nav>
<a href=/2010/06/19/eurovis-2010-weekly-head-voices-24/ id=article-nav-newer class=article-nav-link-wrap>
<div class=article-nav-title><span>&lt;</span>&nbsp;
EuroVis 2010 [Weekly Head Voices #24]
</div>
</a>
<a href=/2010/06/02/facebook-like-share-and-retweet-buttons-in-your-wordpress/ id=article-nav-older class=article-nav-link-wrap>
<div class=article-nav-title>Facebook Like, Share and Retweet buttons in your WordPress&nbsp;<span>></span></div>
</a>
</nav>
<div class=article-footer>
Related posts:
<a href=/2010/03/04/processing-gsvideo-nyartoolkit-on-linux-x86_64/>ðŸŒ¤ Processing + GSVideo + NyARToolkit on Linux x86_64</a>
</div>
</article>
<style>.isso-comment .avatar img{max-width:100%}.isso-comment>div.text-wrapper>div.text p{margin-top:1em}</style>
<script data-isso=/isso/cpbotha.net/ data-isso-reply-notifications=true data-isso-avatar=false data-isso-gravatar=true data-isso-max-comments-nested=inf data-isso-max-comments-top=inf data-isso-require-email=true data-isso-vote=false src=/isso/cpbotha.net/js/embed.min.js></script>
<section data-title="Processing + NyARToolkit + multiple marker tracking" id=isso-thread></section>
</section>
<footer id=footer>
<div id=search-form-wrap>
<form class=search-form method=get action=https://duckduckgo.com/>
<input type=search name=q class=search-text placeholder title size=20 maxlength=128>
<input type=hidden name=sites value=cpbotha.net>
<input type=submit value="Search site with DDG" class=hidden>
</form>
</div>
<div class=outer>
<div id=footer-info class=inner>
&copy; 2021 Charl P. Botha
<br>
Powered by <a href=https://gohugo.io target=_blank>Hugo</a> with theme <a href=https://github.com/carsonip/hugo-theme-minos target=_blank>Minos</a>
</div>
</div>
<link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/styles/solarized-light.min.css integrity=sha384-bFKDPkG3geCujYJIbPornilfOgmYQoPS45Oh/8daqqo1SUwNY06OeHorpgnNvx82 crossorigin=anonymous>
<script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js integrity="sha256-KbfTjB0WZ8vvXngdpJGY3Yp3xKk+tttbqClO11anCIU=" crossorigin=anonymous></script>
<script>hljs.initHighlightingOnLoad()</script>
<script>document.getElementById('main-nav-toggle').addEventListener('click',function(){var a=document.getElementById('header');a.classList.contains('mobile-on')?a.classList.remove('mobile-on'):a.classList.add('mobile-on')})</script>
</footer>
</div>
</body>
</html>